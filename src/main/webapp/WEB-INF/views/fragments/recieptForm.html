<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<body>
	<div class="container" th:fragment="recieptForm (actionName)">
	<h2>Reciept</h2>
	
		<form method="POST" th:object="${reciept}" th:action="${actionName}"
			enctype="multipart/form-data" class="form-horizontal" role="form" th:if="${#authorization.expression('isAuthenticated()')}==true">
			<div class="form-group" style="display:none">
				<label for="id">ID</label> <input class="form-control"
					placeholder="id" name="id" id="id" type="number" 
					th:field="*{recieptId}" />
			</div>
			<div class="form-group">
				<label for="name">Name</label> <input class="form-control"
					placeholder="name" name="name" id="name" type="text" autofocus=""
					th:field="*{recieptName}" />
			</div>
			<div class="form-group">
				<label for="description">Description</label> <input
					class="form-control" placeholder="description" name="description"
					id="description" type="text" th:field="*{recieptDescription}" />
			</div>
			<div class="form-group">
				<label for="file">File</label> <input class="file"
					placeholder="file" name="file" id="file" type="file" />
			</div>
			<div class="form-group">
				<textarea name="editor1" id="editor1" rows="10" cols="80" th:field="*{recieptData}" >
	                This is my textarea to be replaced with CKEditor.
	            </textarea>
				<script>
					CKEDITOR.replace('editor1');
				</script>
			</div>
			<input type="submit" th:value="${actionName}" value="Save" class="btn btn-sm btn-success" />
		</form>
		
		<form method="POST" th:object="${reciept}" th:action="${actionName}"
			enctype="multipart/form-data" class="form-horizontal" role="form" th:if="${#authorization.expression('isAuthenticated()')}==false">
			<div class="form-group">
				<label for="nameView">Name</label> 
				<b th:text="*{recieptName}" placeholder="nameView" id="nameView"/>

			</div>
			<div class="form-group">
				<label for="descriptionView">Description</label> 
				<b th:text="*{recieptDescription}" placeholder="descriptionView" id="descriptionView"/>
			</div>
			<div class="form-group">
				<textarea name="editor2" id="editor2" rows="10" cols="80" th:field="*{recieptData}" readonly="true">
	                This is my textarea to be replaced with CKEditor.
	            </textarea>
				<script>
					CKEDITOR.editor#setReadOnly
					CKEDITOR.replace( 'editor2', {toolbarStartupExpanded : false} );
				</script>
			</div>
		</form>
		
		<div th:replace="fragments/imageList :: imageList (${reciept.images})"></div>
		
		
	</div>
</body>
</html>